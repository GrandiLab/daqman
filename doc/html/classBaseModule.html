<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>daqman: BaseModule Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>BaseModule Class Reference<br/>
<small>
[<a class="el" href="group__modules.html">modules - functions to process raw data in series</a>]</small>
</h1><!-- doxytag: class="BaseModule" --><!-- doxytag: inherits="ParameterList" -->
<p>Abstract base module class.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BaseModule_8hh_source.html">BaseModule.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BaseModule:</div>
<div class="dynsection">
 <div class="center">
  <img src="classBaseModule.gif" usemap="#BaseModule_map" alt=""/>
  <map id="BaseModule_map" name="BaseModule_map">
<area href="classParameterList.html" alt="ParameterList" shape="rect" coords="0,56,124,80"/>
<area href="classVParameterNode.html" alt="VParameterNode" shape="rect" coords="0,0,124,24"/>
<area href="classAverageWaveforms.html" alt="AverageWaveforms" shape="rect" coords="134,168,258,192"/>
<area href="classChannelModule.html" alt="ChannelModule" shape="rect" coords="134,224,258,248"/>
<area href="classConvertData.html" alt="ConvertData" shape="rect" coords="134,280,258,304"/>
<area href="classGenericAnalysis.html" alt="GenericAnalysis" shape="rect" coords="134,336,258,360"/>
<area href="classProcessedPlotter.html" alt="ProcessedPlotter" shape="rect" coords="134,392,258,416"/>
<area href="classPulseFinder.html" alt="PulseFinder" shape="rect" coords="134,448,258,472"/>
<area href="classPulseShapeEval.html" alt="PulseShapeEval" shape="rect" coords="134,504,258,528"/>
<area href="classRawWriter.html" alt="RawWriter" shape="rect" coords="134,560,258,584"/>
<area href="classRootGraphix.html" alt="RootGraphix" shape="rect" coords="134,616,258,640"/>
<area href="classRootWriter.html" alt="RootWriter" shape="rect" coords="134,672,258,696"/>
<area href="classS1S2Evaluation.html" alt="S1S2Evaluation" shape="rect" coords="134,728,258,752"/>
<area href="classSpectrumMaker.html" alt="SpectrumMaker" shape="rect" coords="134,784,258,808"/>
<area href="classSumChannels.html" alt="SumChannels" shape="rect" coords="134,840,258,864"/>
<area href="classSumOfIntegralEval.html" alt="SumOfIntegralEval" shape="rect" coords="134,896,258,920"/>
<area href="classTriggerHistory.html" alt="TriggerHistory" shape="rect" coords="134,952,258,976"/>
<area href="classWarpVeto.html" alt="WarpVeto" shape="rect" coords="134,1008,258,1032"/>
</map>
 </div>
</div>

<p><a href="classBaseModule-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab06d2165529ba94d69c810b40def37e0"></a><!-- doxytag: member="BaseModule::BaseModule" ref="ab06d2165529ba94d69c810b40def37e0" args="(const std::string &amp;name=&quot;&quot;, const std::string &amp;helptext=&quot;&quot;)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#ab06d2165529ba94d69c810b40def37e0">BaseModule</a> (const std::string &amp;name=&quot;&quot;, const std::string &amp;helptext=&quot;&quot;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor takes module name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3227c93689598fc23ca808a216222d80"></a><!-- doxytag: member="BaseModule::~BaseModule" ref="a3227c93689598fc23ca808a216222d80" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a3227c93689598fc23ca808a216222d80">~BaseModule</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">virtual desctructor <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd03cfc65f29620904e90ab2a1b59495"></a><!-- doxytag: member="BaseModule::GetName" ref="acd03cfc65f29620904e90ab2a1b59495" args="()" -->
const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#acd03cfc65f29620904e90ab2a1b59495">GetName</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the registered name of the module (and parameter list). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace78b67c7ba0b8b05585ded4d4fe1493"></a><!-- doxytag: member="BaseModule::SetName" ref="ace78b67c7ba0b8b05585ded4d4fe1493" args="(const std::string &amp;name)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#ace78b67c7ba0b8b05585ded4d4fe1493">SetName</a> (const std::string &amp;name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the name of the module. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae36699d55824f5f17be43ba3709e177b"></a><!-- doxytag: member="BaseModule::Initialize" ref="ae36699d55824f5f17be43ba3709e177b" args="()" -->
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#ae36699d55824f5f17be43ba3709e177b">Initialize</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the module before starting a run. Return 0 if no error. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94ac83508dffcc153516bf862db40984"></a><!-- doxytag: member="BaseModule::Process" ref="a94ac83508dffcc153516bf862db40984" args="(EventPtr event)=0" -->
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a94ac83508dffcc153516bf862db40984">Process</a> (EventPtr event)=0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process a single event. Must be overridden. Return 0 if no error. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f076a071a8d17396d27efe60253119c"></a><!-- doxytag: member="BaseModule::Finalize" ref="a3f076a071a8d17396d27efe60253119c" args="()" -->
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a3f076a071a8d17396d27efe60253119c">Finalize</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finalize state after a run has processed. Return 0 if no error. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a123a98577f12928801c518d8cdf5933d"></a><!-- doxytag: member="BaseModule::HandleEvent" ref="a123a98577f12928801c518d8cdf5933d" args="(EventPtr event, bool process_now=false)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a123a98577f12928801c518d8cdf5933d">HandleEvent</a> (EventPtr event, bool process_now=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is called to handle things like cuts before real processing. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a653fdd63bc612df124171acfb35bfb78"></a><!-- doxytag: member="BaseModule::GetLastProcessReturn" ref="a653fdd63bc612df124171acfb35bfb78" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a653fdd63bc612df124171acfb35bfb78">GetLastProcessReturn</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the return value of the last <a class="el" href="classBaseModule.html#a94ac83508dffcc153516bf862db40984" title="Process a single event. Must be overridden. Return 0 if no error.">Process()</a> call. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba475058b2fb83f76c0f1646a07227ea"></a><!-- doxytag: member="BaseModule::AddDependency" ref="aba475058b2fb83f76c0f1646a07227ea" args="(const std::string &amp;module)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#aba475058b2fb83f76c0f1646a07227ea">AddDependency</a> (const std::string &amp;module)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">State that we want another module to run first. <br/></td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="acfdc067348b243304869fed4f67aebec"></a><!-- doxytag: member="BaseModule::AddDependency" ref="acfdc067348b243304869fed4f67aebec" args="()" -->
template&lt;class T &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">int&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classBaseModule.html#acfdc067348b243304869fed4f67aebec">AddDependency</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Keep the templated function for backward compatibility. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74a55f9c2de2058fe4de8262da6fc48e"></a><!-- doxytag: member="BaseModule::GetDependencies" ref="a74a55f9c2de2058fe4de8262da6fc48e" args="()" -->
const std::set&lt; std::string &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a74a55f9c2de2058fe4de8262da6fc48e">GetDependencies</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the list of modules which this module depends on. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54dafe1b8e659d44d607bab3ba0a1cff"></a><!-- doxytag: member="BaseModule::AddProcessingCut" ref="a54dafe1b8e659d44d607bab3ba0a1cff" args="(ProcessingCut *cut)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a54dafe1b8e659d44d607bab3ba0a1cff">AddProcessingCut</a> (<a class="el" href="classProcessingCut.html">ProcessingCut</a> *cut)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a condition to determine whether this module will process an event. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad30fa99e33bc42e467062c873aa59cec"></a><!-- doxytag: member="BaseModule::GetCuts" ref="ad30fa99e33bc42e467062c873aa59cec" args="()" -->
const std::vector<br class="typebreak"/>
&lt; <a class="el" href="classProcessingCut.html">ProcessingCut</a> * &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#ad30fa99e33bc42e467062c873aa59cec">GetCuts</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the list of cuts. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f2e8976f1dadd849431de72eed66ecc"></a><!-- doxytag: member="BaseModule::ClearCuts" ref="a4f2e8976f1dadd849431de72eed66ecc" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a4f2e8976f1dadd849431de72eed66ecc">ClearCuts</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear the list of cuts. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11667219668f6085200bd94daa9343e7"></a><!-- doxytag: member="BaseModule::CheckCuts" ref="a11667219668f6085200bd94daa9343e7" args="(EventPtr event)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a11667219668f6085200bd94daa9343e7">CheckCuts</a> (EventPtr event)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether &lt;event&gt; passes all defined cuts. <br/></td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2ef4efef6019f9bf02c9654c724feb3"></a><!-- doxytag: member="BaseModule::enabled" ref="af2ef4efef6019f9bf02c9654c724feb3" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#af2ef4efef6019f9bf02c9654c724feb3">enabled</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">should this module be called? <br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a4ac960bb9afc2226aa2a9ea420d47e"></a><!-- doxytag: member="BaseModule::_last_process_return" ref="a4a4ac960bb9afc2226aa2a9ea420d47e" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a4a4ac960bb9afc2226aa2a9ea420d47e">_last_process_return</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Value returned from last Process call. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a326fb2516d10b45fdb8cf2700d244608"></a><!-- doxytag: member="BaseModule::_dependencies" ref="a326fb2516d10b45fdb8cf2700d244608" args="" -->
std::set&lt; std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a326fb2516d10b45fdb8cf2700d244608">_dependencies</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">list of modules we need to run first <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a786b12a9ca4d0c1059b02df55969696f"></a><!-- doxytag: member="BaseModule::_cuts" ref="a786b12a9ca4d0c1059b02df55969696f" args="" -->
std::vector&lt; <a class="el" href="classProcessingCut.html">ProcessingCut</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#a786b12a9ca4d0c1059b02df55969696f">_cuts</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">list of cuts to take before processing <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa890452e5433b755011b447e5b2e61b7"></a><!-- doxytag: member="BaseModule::_skip_channels" ref="aa890452e5433b755011b447e5b2e61b7" args="" -->
std::set&lt; int &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBaseModule.html#aa890452e5433b755011b447e5b2e61b7">_skip_channels</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">list of channels not to process <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Abstract base module class. </p>
<p>All processing functions should inherit from <a class="el" href="classBaseModule.html" title="Abstract base module class.">BaseModule</a>; <a class="el" href="classEventHandler.html" title="Master class which controls processing events by enabled modules.">EventHandler</a> contains a set of <a class="el" href="classBaseModule.html" title="Abstract base module class.">BaseModule</a> pointers.</p>
<p>Inherited classes must override the Process function, and can optionally override the Initialize and Finalize functions. For all the templated dependency functions to work, modules must also override the const std::string GetDefaultName() function.</p>
<p>UPDATE 2012-03-22 (bloer): Modules are no longer allowed to disable themselves during the <a class="el" href="classBaseModule.html#ae36699d55824f5f17be43ba3709e177b" title="Initialize the module before starting a run. Return 0 if no error.">Initialize()</a> step. If config settings are found to have improper values, etc, the module should print an error message and return failure.</p>
<p>Dependencies have also been updated in several ways: 1) No more templates; dependencies are specified by name. If you really want to make sure you're using the right name, call AddDependency(Module::GetDefaultName())</p>
<p>2) The only thing the dependency mechanism does now is check that all listed dependencies are enabled after configuration. Previously, You could add "downstream" modules without explicitly adding their dependencies, e.g., you could add <a class="el" href="classIntegrator.html" title="Integrate a channel&#39;s waveform digitally.">Integrator</a> without first adding <a class="el" href="classBaselineFinder.html" title="searches the beginning of a channel&#39;s waveform to determine baselineBaseline...">BaselineFinder</a>, and it would automatically be added. This is no longer supported. Automated ordering of modules based on dependencies is also no longer supported. This means that it is up to the user to add modules in the right order, or things will not work! The only check that will be taken is, when you try to register a new module, if it's dependencies are not yet registered, you will get an error</p>
<p>3) As a consequence of 2), there is no longer and such thing as an optional dependency, since that only controlled ordering previously. ALL dependencies should be declared in the constructor</p>
<p>4) You can additionally add dependencies in the config file. This is primarily to handle auto-disabling of spectrum generators </p>

<p>Definition at line <a class="el" href="BaseModule_8hh_source.html#l00060">60</a> of file <a class="el" href="BaseModule_8hh_source.html">BaseModule.hh</a>.</p>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>modules/include/<a class="el" href="BaseModule_8hh_source.html">BaseModule.hh</a></li>
<li>modules/src/<a class="el" href="BaseModule_8cc_source.html">BaseModule.cc</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 20 Jun 2014 for daqman by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
